

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icon.png">
  <link rel="icon" href="/img/icon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="gpu版本的安装，依赖问题很棘手，其中cudatoolkit和cudnn最为关键">
  <meta name="author" content="Mr Free">
  <meta name="keywords" content="">
  
  <title>tensorflow-gpu安装小tip - hnurxn&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":60,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"e6b05da17eecff6523584dd51e7da014","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"MJAd57UreVBPxte7PDoEMye0-gzGzoHsz","app_key":"388yI2KkDdst7lb1E99J416E","server_url":"https://mjad57ur.lc-cn-n1-shared.com"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>一只咸鱼的日常</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/background.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="tensorflow-gpu安装小tip">
              
            </span>

            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      Mr Free
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-08-21 01:25" pubdate>
        2021年8月21日 凌晨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      2.9k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      37
       分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
    <a target="_blank" rel="noopener" href="https://your-url" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">tensorflow-gpu安装小tip</h1>
            
            <div class="markdown-body">
              <h2 id="linux-kernel版本"><a class="markdownIt-Anchor" href="#linux-kernel版本"></a> Linux Kernel版本</h2>
<p>uname -a</p>
<h2 id="cuda版本"><a class="markdownIt-Anchor" href="#cuda版本"></a> CUDA版本</h2>
<p>CUDA 有两种API，分别是 <strong>运行时 API</strong> 和 <strong>驱动API</strong>，即所谓的 Runtime API 与 Driver API。<br />
<strong>nvidia-smi</strong> 的结果除了有 GPU 驱动版本型号，还有 CUDA Driver API的型号，这里是 10.0。<br />
而<strong>nvcc -V</strong>的结果是对应 CUDA Runtime API.</p>
<h2 id="cudnn版本"><a class="markdownIt-Anchor" href="#cudnn版本"></a> cudnn版本</h2>
<p>cat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</p>
<h2 id="版本对应关系"><a class="markdownIt-Anchor" href="#版本对应关系"></a> 版本对应关系</h2>
<p><strong>CUDA Toolkit and Minimum Required Driver Version for CUDA Enhanced Compatibility</strong></p>
<table>
<thead>
<tr>
<th>CUDA Toolkit</th>
<th style="text-align:center">Minimum Required Driver Version for CUDA Enhanced Compatibility</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td style="text-align:center">Linux x86_64 Driver Version</td>
</tr>
<tr>
<td>CUDA 11.4</td>
<td style="text-align:center">&gt;=450.80.02</td>
</tr>
<tr>
<td>CUDA 11.3</td>
<td style="text-align:center">&gt;=450.80.02</td>
</tr>
<tr>
<td>CUDA 11.2</td>
<td style="text-align:center">&gt;=450.80.02</td>
</tr>
<tr>
<td>CUDA 11.1 (11.1.0)</td>
<td style="text-align:center">&gt;=450.80.02</td>
</tr>
<tr>
<td>CUDA 11.0 (11.0.3)</td>
<td style="text-align:center">&gt;=450.36.06</td>
</tr>
</tbody>
</table>
<p><strong>CUDA Toolkit and Corresponding Driver Versions</strong></p>
<table>
<thead>
<tr>
<th>CUDA Toolkit</th>
<th>Toolkit Driver Version</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>Linux x86_64 Driver Version</td>
<td>Windows x86_64 Driver Version</td>
</tr>
<tr>
<td>CUDA 11.4 Update 1</td>
<td>&gt;=470.57.02</td>
<td>&gt;=471.41</td>
</tr>
<tr>
<td>CUDA 11.4.0 GA</td>
<td>&gt;=470.42.01</td>
<td>&gt;=471.11</td>
</tr>
<tr>
<td>CUDA 11.3.1 Update 1</td>
<td>&gt;=465.19.01</td>
<td>&gt;=465.89</td>
</tr>
<tr>
<td>CUDA 11.3.0 GA</td>
<td>&gt;=465.19.01</td>
<td>&gt;=465.89</td>
</tr>
<tr>
<td>CUDA 11.2.2 Update 2</td>
<td>&gt;=460.32.03</td>
<td>&gt;=461.33</td>
</tr>
<tr>
<td>CUDA 11.2.1 Update 1</td>
<td>&gt;=460.32.03</td>
<td>&gt;=461.09</td>
</tr>
<tr>
<td>CUDA 11.2.0 GA</td>
<td>&gt;=460.27.03</td>
<td>&gt;=460.82</td>
</tr>
<tr>
<td>CUDA 11.1.1 Update 1</td>
<td>&gt;=455.32</td>
<td>&gt;=456.81</td>
</tr>
<tr>
<td>CUDA 11.1 GA</td>
<td>&gt;=455.23</td>
<td>&gt;=456.38</td>
</tr>
<tr>
<td>CUDA 11.0.3 Update 1</td>
<td>&gt;= 450.51.06</td>
<td>&gt;= 451.82</td>
</tr>
<tr>
<td>CUDA 11.0.2 GA</td>
<td>&gt;= 450.51.05</td>
<td>&gt;= 451.48</td>
</tr>
<tr>
<td>CUDA 11.0.1 RC</td>
<td>&gt;= 450.36.06</td>
<td>&gt;= 451.22</td>
</tr>
<tr>
<td>CUDA 10.2.89</td>
<td>&gt;= 440.33</td>
<td>&gt;= 441.22</td>
</tr>
<tr>
<td>CUDA 10.1 (10.1.105 general release, and updates)</td>
<td>&gt;= 418.39</td>
<td>&gt;= 418.96</td>
</tr>
<tr>
<td>CUDA 10.0.130</td>
<td>&gt;= 410.48</td>
<td>&gt;= 411.31</td>
</tr>
</tbody>
</table>
<h3 id="tensorflow-gpu"><a class="markdownIt-Anchor" href="#tensorflow-gpu"></a> Tensorflow-GPU</h3>
<table>
<thead>
<tr>
<th style="text-align:left">Version</th>
<th style="text-align:left">Python version</th>
<th style="text-align:left">Compiler</th>
<th style="text-align:left">Build tools</th>
<th style="text-align:left">cuDNN</th>
<th style="text-align:left">CUDA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">tensorflow_gpu-2.6.0</td>
<td style="text-align:left">3.6-3.9</td>
<td style="text-align:left">MSVC 2019</td>
<td style="text-align:left">Bazel 3.7.2</td>
<td style="text-align:left">8.1</td>
<td style="text-align:left">11.2</td>
</tr>
<tr>
<td style="text-align:left">tensorflow_gpu-2.5.0</td>
<td style="text-align:left">3.6-3.9</td>
<td style="text-align:left">MSVC 2019</td>
<td style="text-align:left">Bazel 3.7.2</td>
<td style="text-align:left">8.1</td>
<td style="text-align:left">11.2</td>
</tr>
<tr>
<td style="text-align:left">tensorflow_gpu-2.4.0</td>
<td style="text-align:left">3.6-3.8</td>
<td style="text-align:left">MSVC 2019</td>
<td style="text-align:left">Bazel 3.1.0</td>
<td style="text-align:left">8.0</td>
<td style="text-align:left">11.0</td>
</tr>
<tr>
<td style="text-align:left">tensorflow_gpu-2.3.0</td>
<td style="text-align:left">3.5-3.8</td>
<td style="text-align:left">MSVC 2019</td>
<td style="text-align:left">Bazel 3.1.0</td>
<td style="text-align:left">7.6</td>
<td style="text-align:left">10.1</td>
</tr>
<tr>
<td style="text-align:left">tensorflow_gpu-2.2.0</td>
<td style="text-align:left">3.5-3.8</td>
<td style="text-align:left">MSVC 2019</td>
<td style="text-align:left">Bazel 2.0.0</td>
<td style="text-align:left">7.6</td>
<td style="text-align:left">10.1</td>
</tr>
<tr>
<td style="text-align:left">tensorflow_gpu-2.1.0</td>
<td style="text-align:left">3.5-3.7</td>
<td style="text-align:left">MSVC 2019</td>
<td style="text-align:left">Bazel 0.27.1-0.29.1</td>
<td style="text-align:left">7.6</td>
<td style="text-align:left">10.1</td>
</tr>
<tr>
<td style="text-align:left">tensorflow_gpu-2.0.0</td>
<td style="text-align:left">3.5-3.7</td>
<td style="text-align:left">MSVC 2017</td>
<td style="text-align:left">Bazel 0.26.1</td>
<td style="text-align:left">7.4</td>
<td style="text-align:left">10</td>
</tr>
</tbody>
</table>
<h2 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h2>
<p>1.首先创建新的环境env</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda create -n  env_name python == 3.x.x<br></code></pre></td></tr></table></figure>
<p>2.安装cudatoolkit和cudnn （自行检查版本）（本机公共环境已经装好的话，就可以不操作）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda install cudatoolkit=11.0<br>conda install cudnn=8.0 // 可以不写版本 将自动匹配版本<br></code></pre></td></tr></table></figure>
<p>这里的安装路径没有单独形成cuda文件夹，都是统一存放在envs/你的虚拟环境/lib or include 文件夹下.</p>
<p><strong>注意几个问题：</strong></p>
<blockquote>
<p>1.conda只有部分cudnn的版本，因此直接输入conda install cudnn 或者cudatookit 会自动安装对应版本的 cudatookit和cudnn</p>
<p>2.有一些具体的版本可能用pip和conda无法下载，换各种源如果仍不能下载，只能通过官网安装（网上教程都是按照到服务器公共资源上）</p>
<p>3.最简单的方法，新建环境后不做任何操作，直接conda install tensorflow-gpu=2.x.x，会显示提醒你需要附加哪些依赖，其中就包括cudatoolkit和cudnn，自己看清楚版本然后继续安装就行。</p>
</blockquote>
<p>3.查看conda当前可以按照的版本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">conda search tensorflow-gpu<br></code></pre></td></tr></table></figure>
<p>4.安装tensorflow-gpu</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip  install tensorflow-gpu==2.4.1  <br>一些高版本 conda可能没有资源 需要用pip<br></code></pre></td></tr></table></figure>
<h4 id="最稳定的一个版本"><a class="markdownIt-Anchor" href="#最稳定的一个版本"></a> 最稳定的一个版本</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 完整步骤</span><br>conda install cudatoolkit=10.1<br>conda install cudnn=7.6.5<br>conda install tensorflow-gpu=2.2.0<br><span class="hljs-comment"># 或者直接进行下面一步：</span><br>conda install tensorflow-gpu=2.2.0<br><span class="hljs-comment">#检查提醒安装的依赖，cudnn和cudatoolkit版本没问题即可</span><br></code></pre></td></tr></table></figure>
<center><font color = blue size =6>概念扫盲</font></center>
<blockquote>
<p>参考https://www.cnblogs.com/marsggbo/p/11838823.html</p>
</blockquote>
<h3 id="gpu型号"><a class="markdownIt-Anchor" href="#gpu型号"></a> GPU型号</h3>
<ul>
<li>
<p><strong>显卡</strong>： 简单理解这个就是我们前面说的<strong>GPU</strong>，尤其指NVIDIA公司生产的GPU系列，因为后面介绍的cuda,cudnn都是NVIDIA公司针对自身的GPU独家设计的。</p>
</li>
<li>
<p><strong>显卡驱动</strong>：很明显就是字面意思，通常指<strong>NVIDIA Driver</strong>，其实它就是一个驱动软件，而前面的<strong>显卡</strong>就是硬件。</p>
</li>
<li>
<p>gpu架构：Tesla、Fermi、Kepler、Maxwell、Pascal</p>
</li>
<li>
<p>芯片型号：GT200、GK210、GM104、GF104等</p>
</li>
<li>
<p>显卡系列：GeForce、Quadro、Tesla</p>
</li>
<li>
<p>GeForce显卡型号：G/GS、GT、GTS、GTX</p>
<p>最后一个GeForce的显卡型号是不同的硬件定制，越往后性能越好，时钟频率越高显存越大，即G/GS&lt;GT&lt;GTS&lt;GTX</p>
</li>
</ul>
<h3 id="cuda"><a class="markdownIt-Anchor" href="#cuda"></a> CUDA</h3>
<p>CUDA英文全称是Compute Unified Device Architecture，是显卡厂商NVIDIA推出的运算平台。 CUDA™是一种由NVIDIA推出的通用并行计算架构，该架构使GPU能够解决复杂的计算问题。按照<a target="_blank" rel="noopener" href="https://blogs.nvidia.com/blog/2012/09/10/what-is-cuda-2/">官方</a>的说法是，<strong>CUDA是一个并行计算平台和编程模型，能够使得使用GPU进行通用计算变得简单和优雅</strong>。</p>
<h3 id="cudnn"><a class="markdownIt-Anchor" href="#cudnn"></a> cudnn</h3>
<p>一个专门为深度学习计算设计的软件库，里面提供了很多专门的计算函数，如卷积等。</p>
<h3 id="cuda-toolkit"><a class="markdownIt-Anchor" href="#cuda-toolkit"></a> CUDA Toolkit</h3>
<p>CUDA Toolkit由以下组件组成：</p>
<ul>
<li>
<p><strong>Compiler</strong>: CUDA-C和CUDA-C++编译器<code>NVCC</code>位于<code>bin/</code>目录中。它建立在<code>NVVM</code>优化器之上，而<code>NVVM</code>优化器本身构建在<code>LLVM</code>编译器基础结构之上。希望开发人员可以使用<code>nvm/</code>目录下的Compiler SDK来直接针对NVVM进行开发。</p>
</li>
<li>
<p><strong>Tools</strong>: 提供一些像<code>profiler</code>,<code>debuggers</code>等工具，这些工具可以从<code>bin/</code>目录中获取</p>
</li>
<li>
<dl>
<dt><strong>Libraries</strong></dt>
<dd>下面列出的部分科学库和实用程序库可以在lib/目录中使用(Windows上的DLL位于bin/中)，它们的接口在include/目录中可获取。</dd>
</dl>
<ul>
<li><strong>cudart</strong>: CUDA Runtime</li>
<li><strong>cudadevrt</strong>: CUDA device runtime</li>
<li><strong>cupti</strong>: CUDA profiling tools interface</li>
<li><strong>nvml</strong>: NVIDIA management library</li>
<li><strong>nvrtc</strong>: CUDA runtime compilation</li>
<li><strong>cublas</strong>: BLAS (Basic Linear Algebra Subprograms，基础线性代数程序集)</li>
<li><strong>cublas_device</strong>: BLAS kernel interface</li>
<li>…</li>
</ul>
</li>
<li>
<p><strong>CUDA Samples</strong>: 演示如何使用各种CUDA和library API的代码示例。可在Linux和Mac上的<code>samples/</code>目录中获得，Windows上的路径是<code>C：\ProgramData\NVIDIA Corporation\CUDA Samples</code>中。在Linux和Mac上，<code>samples/</code>目录是只读的，如果要对它们进行修改，则必须将这些示例复制到另一个位置。</p>
</li>
<li>
<p><strong>CUDA Driver</strong>: 运行CUDA应用程序需要系统至少有一个<strong>具有CUDA功能的GPU</strong>和<strong>与CUDA工具包兼容的驱动程序</strong>。每个版本的CUDA工具包都对应一个最低版本的CUDA Driver，也就是说如果你安装的CUDA Driver版本比官方推荐的还低，那么很可能会无法正常运行。CUDA Driver是向后兼容的，这意味着根据CUDA的特定版本编译的应用程序将继续在后续发布的Driver上也能继续工作。通常为了方便，在安装CUDA Toolkit的时候会默认安装CUDA Driver。在开发阶段可以选择默认安装Driver，但是对于像Tesla GPU这样的商用情况时，建议在<a target="_blank" rel="noopener" href="http://www.nvidia.com/drivers">官方</a>安装最新版本的Driver。</p>
</li>
</ul>
<h3 id="nvcc-nvidia-smi"><a class="markdownIt-Anchor" href="#nvcc-nvidia-smi"></a> nvcc &amp;nvidia-smi</h3>
<ul>
<li><code>nvcc</code>其实就是CUDA的编译器,可以从CUDA Toolkit的<code>/bin</code>目录中获取,类似于<code>gcc</code>就是c语言的编译器。由于程序是要经过编译器编程成可执行的二进制文件，而cuda程序有两种代码，一种是运行在cpu上的host代码，一种是运行在gpu上的device代码，所以<code>nvcc</code>编译器要保证两部分代码能够编译成二进制文件在不同的机器上执行。</li>
<li><code>nvidia-smi</code>全程是NVIDIA System Management Interface ，它是一个基于前面介绍过的<code>NVIDIA Management Library(NVML)</code>构建的命令行实用工具，旨在帮助管理和监控NVIDIA GPU设备</li>
</ul>
<p>二者显示的版本可能不同，stackoverflow有解释如下：</p>
<p>CUDA有两个主要的API：<strong>runtime(运行时) API</strong>和<strong>driver API</strong>。这两个API都有对应的CUDA版本（如9.2和10.0等）。</p>
<ul>
<li>用于支持<strong>driver API</strong>的必要文件(如<code>libcuda.so</code>)是由<strong>GPU driver installer</strong>安装的。<code>nvidia-smi</code>就属于这一类API。</li>
<li>用于支持<strong>runtime API</strong>的必要文件(如<code>libcudart.so</code>以及<code>nvcc</code>)是由<strong>CUDA Toolkit installer</strong>安装的。（CUDA Toolkit Installer有时可能会集成了GPU driver Installer）。<code>nvcc</code>是与CUDA Toolkit一起安装的CUDA compiler-driver tool，它只知道它自身构建时的CUDA runtime版本。它不知道安装了什么版本的GPU driver，甚至不知道是否安装了GPU driver。</li>
</ul>
<p>综上，如果driver API和runtime API的CUDA版本不一致可能是因为你使用的是单独的GPU driver installer，而不是CUDA Toolkit installer里的GPU driver installer。</p>
<h3 id="pip-conda"><a class="markdownIt-Anchor" href="#pip-conda"></a> pip &amp; conda</h3>
<p>Conda 和 pip 通常被认为几乎相同。 尽管这两个工具的某些功能重叠，但它们的<strong>设计目的是不同的</strong>。</p>
<p>Pip 是 Python Packaging Authority 推荐的用于从 Python Package Index（ PyPI） 安装包的工具。 Pip 安装打包为wheel或source distributions的 Python 软件。 后者可能要求系统在成功调用 pip 之前安装兼容的编译器和可能的库。</p>
<p>Conda 是一个跨平台的包和环境管理器，用于从 Anaconda 存储库和 Anaconda Cloud 安装和管理 conda 包。 Conda 包是二进制文件。 永远不需要编译器来安装它们。 此外，<strong>conda 包不仅限于 Python 软件。 它们还可能包含 C 或 C++ 库、R 包或任何其他软件</strong>。</p>
<p>conda 和 pip 之间的主要区别: <strong>Pip 安装 Python 包，而 conda 安装可能包含用任何语言编写的软件的包</strong>。 例如，在使用 pip 之前，必须通过系统包管理器或通过下载并运行安装程序来安装 Python 解释器。 另一方面，Conda 可以直接安装 Python 包以及 Python 解释器。</p>
<p>这两个工具之间的另一个主要区别是 <strong>conda 能够创建隔离的环境，其中可以包含不同版本的 Python 和安装在其中的包</strong>。 这在使用数据科学工具时非常有用，因为不同的工具可能包含相互冲突的需求，这可能会阻止它们全部安装到单个环境中。 Pip 没有对环境的内置支持，而是依赖于其他工具（如 virtualenv 或 venv）来创建隔离的环境。</p>
<p>Pip 和 conda 在如何实现环境中的依赖关系方面也有所不同。 安装软件包时，<strong>pip 会在递归的串行循环中安装依赖项</strong>。 没有努力确保所有包的依赖关系同时满足。 如果顺序中较早安装的软件包相对于顺序中较晚安装的软件包具有不兼容的依赖版本，这<strong>可能会导致环境以微妙的方式被破坏</strong>。 相比之下，conda 使用可满足性 (SAT) 求解器来验证是否满足环境中安装的所有软件包的所有要求。 此检查可能需要额外的时间，但有助于防止创建损坏的环境。 <strong>只要有关依赖项的包元数据是正确的，conda 就会按预期生成工作环境</strong>。</p>
<p>鉴于 conda 和 pip 之间的相似性，一些人尝试结合这些工具来创建数据科学环境也就不足为奇了。 将 pip 与 conda 结合使用的一个主要原因是<strong>当一个或多个软件包只能通过 pip 安装</strong>时。 Anaconda 存储库中提供了 1,500 多个包，包括最流行的数据科学、机器学习和 AI 框架。 这些，以及 Anaconda 云上数以千计的额外软件包，包括 conda-forge 和 bioconda，都可以使用 conda 进行安装。 尽管有这么多包，但与 PyPI 上提供的 150,000 多个包相比，它仍然很小。 有时需要一个包，它不能作为 conda 包提供，但<strong>在 PyPI 上可用并且可以使用 pip 安装</strong>。 在这些情况下，尝试<strong>同时使用 conda 和 pip 是有意义的</strong>。</p>
<table>
<thead>
<tr>
<th></th>
<th>conda</th>
<th>pip</th>
</tr>
</thead>
<tbody>
<tr>
<td>manages</td>
<td>binaries</td>
<td>wheel or source</td>
</tr>
<tr>
<td>can require compilers</td>
<td>no</td>
<td>yes</td>
</tr>
<tr>
<td>package types</td>
<td>any</td>
<td>Python-only</td>
</tr>
<tr>
<td>create environment</td>
<td>yes, built-in</td>
<td>no, requires virtualenv or venv</td>
</tr>
<tr>
<td>dependency checks</td>
<td>yes</td>
<td>no</td>
</tr>
<tr>
<td>package sources</td>
<td>Anaconda repo</td>
<td>cloud PyPI</td>
</tr>
</tbody>
</table>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Tutorials/">Tutorials</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/tutorial/">tutorial</a>
                    
                      <a class="hover-with-bg" href="/tags/cuda/">cuda</a>
                    
                      <a class="hover-with-bg" href="/tags/tensorflow/">tensorflow</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/08/29/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%BC%98%E5%8C%96%E5%99%A8%E6%B1%87%E6%80%BB/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">梯度下降优化器汇总</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/08/05/neural-style/">
                        <span class="hidden-mobile">风格迁移的pytorch实现</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"MJAd57UreVBPxte7PDoEMye0-gzGzoHsz","appKey":"388yI2KkDdst7lb1E99J416E","placeholder":"说点什么","path":"window.location.pathname","avatar":"retro","meta":["nick","mail","link"],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false,"requiredFields":[]},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?e6b05da17eecff6523584dd51e7da014";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
